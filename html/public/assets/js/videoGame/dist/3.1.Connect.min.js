function checkLoginState(){FB.getLoginStatus(function(t){statusChangeCallback(t)})}function statusChangeCallback(t){"connected"===t.status&&(FB.api("/me?fields=name,email,birthday,devices,friends,picture",function(t){idFacebookUser=t.id,console.log("Successful login for: "+t.name),console.log(t),$.ajax({url:"/js_fblogin_callback",type:"get",success:function(){console.log("Conectados a FB y usuario guardado")}})}),stadoSiguiente.start("Game"))}var regaloNavidad=regaloNavidad||{},stadoSiguiente;regaloNavidad.Connection=function(){},regaloNavidad.Connection.prototype={preload:function(){},create:function(){this.backgroundConnection=this.game.add.sprite(0,0,"backgroundConnection"),this.btnSalir=this.game.add.button(this.game.world.centerX-60,this.game.world.height,"btnSalir",this.clickOnbtnSalir,this),this.btnConectarse=this.game.add.button(this.game.world.width,this.game.world.centerY+80,"btnConectarse",this.clickOnbtnConectarse,this),this.startBounceConnection(),stadoSiguiente=this.state},update:function(){},render:function(){},clickOnbtnSalir:function(){},clickOnbtnConectarse:function(){FB.login(function(t){checkLoginState()},{scope:"public_profile,email,user_friends"})},startBounceConnection:function(){this.btnConectarse.x=this.game.world.width+this.btnConectarse.width;var t=this.game.add.tween(this.btnConectarse);t.to({x:this.game.world.centerX-this.btnConectarse.width/2},1e3,Phaser.Easing.Bounce.In),t.start(),this.btnSalir.x=this.btnSalir.x,this.btnSalir.y=this.game.world.height-this.btnSalir.height+300;var n=this.game.add.tween(this.btnSalir);n.to({y:this.game.world.height-this.btnSalir.height-20},2500,Phaser.Easing.Bounce.InOut),n.start()}};